# -*- coding: utf-8 -*-
"""Untitled48.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1yr2aqPPM8WclECvLVUFaohbEDY5lRZ1O
"""

import pandas as pd
import numpy as np

# Load the Titanic dataset
data = pd.read_csv('/content/sample_data/Titanic-Dataset.csv')

# 1. Display the first 5 rows of the dataset
print(data.head())

# 2. Display the last 5 rows of the dataset
print(data.tail())

# 3. Get the shape of the dataset
print(data.shape)

# 4. Get a summary of the dataset (info)
print(data.info())

# 5. Get basic statistics of the dataset
print(data.describe())

# 6. Check for missing values
print(data.isnull().sum())

# 7. Fill missing values in the 'Age' column with the median age
data['Age'].fillna(data['Age'].median(), inplace=True)

# 8. Fill missing values in the 'Embarked' column with the mode
data['Embarked'].fillna(data['Embarked'].mode()[0], inplace=True)

# 9. Drop the 'Cabin' column due to many missing values
data.drop('Cabin', axis=1, inplace=True)

# 10. Create a new column 'FamilySize' by adding 'SibSp' and 'Parch'
data['FamilySize'] = data['SibSp'] + data['Parch']

# 11. Create a new column 'IsAlone' (1 if alone, 0 otherwise)
data['IsAlone'] = np.where(data['FamilySize'] > 0, 0, 1)

# 12. Convert 'Sex' to numeric (male: 0, female: 1)
data['Sex'] = data['Sex'].map({'male': 0, 'female': 1})

# 13. One-hot encode the 'Embarked' column
data = pd.get_dummies(data, columns=['Embarked'], drop_first=True)

# 14. Get the mean age of passengers
print(data['Age'].mean())

# 15. Get the median fare of passengers
print(data['Fare'].median())

# 16. Get the number of passengers by class
print(data['Pclass'].value_counts())

# 17. Get the number of passengers by gender
print(data['Sex'].value_counts())

# 18. Get the number of passengers by survival status
print(data['Survived'].value_counts())

# 19. Calculate the survival rate
print(data['Survived'].mean())

# 20. Calculate the survival rate by gender
print(data.groupby('Sex')['Survived'].mean())

# 21. Calculate the survival rate by class
print(data.groupby('Pclass')['Survived'].mean())

# 22. Calculate the survival rate by embarked location
print(data.groupby('Embarked_S')['Survived'].mean())

# 23. Calculate the survival rate by family size
print(data.groupby('FamilySize')['Survived'].mean())

# 24. Calculate the survival rate by being alone
print(data.groupby('IsAlone')['Survived'].mean())

# 25. Get the average fare by class
print(data.groupby('Pclass')['Fare'].mean())

# 26. Get the average age by class
print(data.groupby('Pclass')['Age'].mean())

# 27. Get the average age by survival status
print(data.groupby('Survived')['Age'].mean())

# 28. Get the average fare by survival status
print(data.groupby('Survived')['Fare'].mean())

# 29. Get the number of survivors by class
print(data[data['Survived'] == 1]['Pclass'].value_counts())

# 30. Get the number of non-survivors by class
print(data[data['Survived'] == 0]['Pclass'].value_counts())

# 31. Get the number of survivors by gender
print(data[data['Survived'] == 1]['Sex'].value_counts())

# 32. Get the number of non-survivors by gender
print(data[data['Survived'] == 0]['Sex'].value_counts())

# 33. Get the number of survivors by embarked location
print(data[data['Survived'] == 1]['Embarked_S'].value_counts())

# 34. Get the number of non-survivors by embarked location
print(data[data['Survived'] == 0]['Embarked_S'].value_counts())

# 35. Calculate the percentage of children (Age < 18) who survived
children = data[data['Age'] < 18]
print(children['Survived'].mean())

# 36. Calculate the percentage of adults (Age >= 18) who survived
adults = data[data['Age'] >= 18]
print(adults['Survived'].mean())

# 37. Get the median age of survivors
print(data[data['Survived'] == 1]['Age'].median())

# 38. Get the median age of non-survivors
print(data[data['Survived'] == 0]['Age'].median())

# 39. Get the median fare of survivors
print(data[data['Survived'] == 1]['Fare'].median())

# 40. Get the median fare of non-survivors
print(data[data['Survived'] == 0]['Fare'].median())

# 41. Find the most common age
print(data['Age'].mode()[0])

# 42. Find the most common fare
print(data['Fare'].mode()[0])

# 43. Find the most common family size
print(data['FamilySize'].mode()[0])

# 44. Find the passenger with the maximum fare
print(data[data['Fare'] == data['Fare'].max()])

# 45. Find the passenger with the minimum fare
print(data[data['Fare'] == data['Fare'].min()])

# 46. Get the number of passengers from each port of embarkation
print(data['Embarked_S'].value_counts())

# 47. Get the mean family size of survivors
print(data[data['Survived'] == 1]['FamilySize'].mean())

# 48. Get the mean family size of non-survivors
print(data[data['Survived'] == 0]['FamilySize'].mean())

# 49. Get the number of passengers aged 30 or older
print(data[data['Age'] >= 30].shape[0])

# 50. Get the number of passengers younger than 30
print(data[data['Age'] < 30].shape[0])

